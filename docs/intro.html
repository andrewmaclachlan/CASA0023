<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.228">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>CASA0023 Remotely Sensing Cities and Environments - 1&nbsp; Getting started with remote sensing</title>
<style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
<script src="site_libs/quarto-nav/quarto-nav.js"></script><script src="site_libs/quarto-nav/headroom.min.js"></script><script src="site_libs/clipboard/clipboard.min.js"></script><meta name="quarto:offset" content="./">
<script src="site_libs/quarto-search/autocomplete.umd.js"></script><script src="site_libs/quarto-search/fuse.min.js"></script><script src="site_libs/quarto-search/quarto-search.js"></script><link href="./summary.html" rel="next">
<link href="./index.html" rel="prev">
<link href="./assets/favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script><script src="site_libs/quarto-html/popper.min.js"></script><script src="site_libs/quarto-html/tippy.umd.min.js"></script><script src="site_libs/quarto-html/anchor.min.js"></script><link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link id="quarto-text-highlighting-styles" href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
<script src="site_libs/bootstrap/bootstrap.min.js"></script><link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
    "location": "navbar",
    "copy-button": false,
    "collapse-after": 3,
    "panel-placement": "end",
    "type": "overlay",
    "limit": 20,
    "language": {
      "search-no-results-text": "No results",
      "search-matching-documents-text": "matching documents",
      "search-copy-link-title": "Copy link to search",
      "search-hide-matches-text": "Hide additional matches",
      "search-more-match-text": "more match in this document",
      "search-more-matches-text": "more matches in this document",
      "search-clear-button-title": "Clear",
      "search-detached-cancel-button-title": "Cancel",
      "search-submit-button-title": "Submit"
    }
  }</script><!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body class="floating nav-fixed">
<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <a class="navbar-brand" href="./index.html">
    <img src="./general_images/casa_logo.jpg" alt=""><span class="navbar-title">CASA0023 Remotely Sensing Cities and Environments</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/quarto-dev/quarto-demo"><i class="bi bi-github" role="img" aria-label="Source Code">
</i> 
 </a>
  </li>  
</ul>
<div class="quarto-toggle-container">
                  <a href="" class="quarto-reader-toggle nav-link" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">
<span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting started with remote sensing</span>
</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Welcome</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting started with remote sensing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Summary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc"><h2 id="toc-title">Table of contents</h2>
<ul>
<li>
<a href="#loading-data" id="toc-loading-data" class="nav-link active" data-scroll-target="#loading-data"> <span class="header-section-number">1.1</span> Loading data</a>
<ul class="collapse">
<li><a href="#sentinel" id="toc-sentinel" class="nav-link" data-scroll-target="#sentinel"> <span class="header-section-number">1.1.1</span> Sentinel</a></li>
<li><a href="#landsat" id="toc-landsat" class="nav-link" data-scroll-target="#landsat"> <span class="header-section-number">1.1.2</span> Landsat</a></li>
</ul>
</li>
</ul><div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/quarto-dev/quarto-demo/edit/main/intro.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/quarto-dev/quarto-demo/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title"><h1 class="title d-none d-lg-block display-7">
<span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting started with remote sensing</span>
</h1></div></header><section id="loading-data" class="level2" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="loading-data">
<span class="header-section-number">1.1</span> Loading data</h2>
<p>To start with we are going to send some time exploring remotely sensed data ready for future analysis. We will first look at Landsat, as we have seen this before in CASA0005. We will then move to Sentinel data.</p>
<p>You need to select <strong>a city of you choice</strong> and then using the image and explanation below…</p>
<div class="cell">

</div>
<section id="sentinel" class="level3" data-number="1.1.1"><h3 data-number="1.1.1" class="anchored" data-anchor-id="sentinel">
<span class="header-section-number">1.1.1</span> Sentinel</h3>
<section id="download" class="level4" data-number="1.1.1.1"><h4 data-number="1.1.1.1" class="anchored" data-anchor-id="download">
<span class="header-section-number">1.1.1.1</span> Download</h4>
<ul>
<li><p>Go to the Copernicus Open Access Hub: https://scihub.copernicus.eu/dhus/#/home.</p></li>
<li>
<p>You will need to make a free account</p>
<ul>
<li>Draw around the study area</li>
<li>Select image filter criteria</li>
<li>Select search icon</li>
<li>Download the S2MSI2A data</li>
</ul>
</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="prac_1/sentinel_data_1.png" class="img-fluid figure-img" width="500"></p>
</figure>
</div>
</div>
</div>
<p>Within this image we have:</p>
<ol type="1">
<li><p>Allows you to either move around the global or draw a study area</p></li>
<li><p>An example of a study area</p></li>
<li><p>How to sort the image results</p></li>
<li><p>Sentinel mission selection :</p></li>
</ol>
<ul>
<li>Sentinel product types refer to the amount of processing that has been undertaken on the multi-spectral imagery. S2MSI2A = Bottom of Atmosphere (BOA) or otherwise known as surface reflectance. Consult the <a href="https://sentinel.esa.int/documents/247904/685211/sentinel-2-products-specification-document">product specification</a> for more details.</li>
</ul>
<p>You can also use the Sentinel 2 toolbox to replicate the coverstion from TOA to BOA - https://sentinels.copernicus.eu/ar/web/sentinel/technical-guides/sentinel-2-msi/level-2a/algorithm</p>
<ul>
<li><p>The platform refers to either sentinel 2A or 2B. Theses are the same sensors but they operate at 180 degrees from each other reducing the revisit time from 10 to 5 days. 2A was launched first in 2015 followed by 2B in 2017.</p></li>
<li><p>Cloud cover e.g.&nbsp;[0 TO 5]</p></li>
</ul></section><section id="open" class="level4" data-number="1.1.1.2"><h4 data-number="1.1.1.2" class="anchored" data-anchor-id="open">
<span class="header-section-number">1.1.1.2</span> Open</h4>
<p>Once downloaded and unzipped you’ll be presented with a load of folders! Here we are interested in the 10m bands…which are:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="prac_1/sentinel_bands.png" class="img-fluid figure-img" width="500"></p>
</figure>
</div>
</div>
</div>
<p>You’ll find then in the GRANULE &gt; sensor number &gt; IMG_DATA &gt; R10.</p>
<p>Next open them up in QGIS to explore, if there is a TCI image this is a True Colour Image of B02 (Blue), B03 (Green), and B04 (Red) Bands - open this first, it’s just a single raster layer. See the <a href="https://sentinels.copernicus.eu/ar/web/sentinel/user-guides/sentinel-2-msi/definitions">Sentinel user guide definitions</a> for any other acronyms you might need.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="prac_1/sentinel_data_cape_town_TCI.png" class="img-fluid figure-img" width="500"></p>
</figure>
</div>
</div>
</div>
<p>Using the Identify tool we can create a spectral signature by changing the view option to graph (look under the graph in the image above).</p>
<p><strong>However</strong> the TCI values are coded between 0 and 255 which will limit what we can do with it. As the the radiometric resolution of Sentinel-2 is 12-bit, meaning brightness levels from 0 - 4095 it’s not clear how this product has been made.</p>
<p>So we can make our own raster stack using the BOA bands, if you recall we did this in CASA0005 in R.</p>
<p>But in QGIS it’s easier to visualise the output</p>
<p>Find the merge tool from the Raster miscellaneous tool box and select the following:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="prac_1/sentinel_merge.png" class="img-fluid figure-img" width="500"></p>
</figure>
</div>
</div>
</div>
<p>Note:</p>
<ul>
<li>The input layers are the 4 10m bands that I loaded into QGIS</li>
<li>The tick box selected meaning each raster file will be it’s own layer</li>
<li>The file being saved into a <code>.tiff</code> as opposed to memory</li>
</ul>
<p>Once merged we can created a true colour composite using the BOA data…to do so:</p>
<ul>
<li>Right click on the merged layer in the attribute table</li>
<li>Symbology &gt; Render type &gt; select multiband color</li>
</ul>
<p>In remote sensing the Red, Green, Blue display options are often called colour guns that are used to display images on the screen. For a true colour composite B1=Blue, B2=Green, B3=Red.</p>
<p>Try changing the contrast enhancement and see what happens, then <a href="https://gis.stackexchange.com/questions/328356/difference-between-contrast-enhancement-options-qgis-3-rasterlayer-symbology-mul">consult GIS stack exchange to understand what is happening</a>..</p>
<p>Of course we have only used the 10m bands so far…there are two options that we can take to use the full range of spectral data:</p>
<ul>
<li>Downscale the other bands to 10m forming a super-resolution</li>
<li>Upscale the 10m to 20m</li>
</ul>
<p>Down scaling is quite an intensive process and beyond the scope of this practical. However, it can be achieved using <a href="https://step.esa.int/main/snap-supported-plugins/sen2res/">Sen2Res</a> that is a plug in for the <a href="https://step.esa.int/main/download/snap-download/">SNAP toolbox</a>. Arguably SNAP is just another GIS specific to Sentinel, but we will explore it later as it makes some of these concepts easier to understand.</p>
<p>Upscaling aggregates the images to a more coarse resolution (e.g.&nbsp;10m to 20m). The Sentinel user guide states that bands will be resampled and provided (e.g.&nbsp;within the 20m folder there are 10 bands). However, it’s not clear what method has been used, the documentation suggests nearest neighbour - https://docs.sentinel-hub.com/api/latest/data/sentinel-2-l2a/.</p>
<p>This can also be termed resampling, and nearest neighbour simply means taking the new raster resolution and then assiging the value from the closest value in the original data. Others approaches include bilinear or cubic convolution resampling.</p>
</section><section id="snap" class="level4" data-number="1.1.1.3"><h4 data-number="1.1.1.3" class="anchored" data-anchor-id="snap">
<span class="header-section-number">1.1.1.3</span> SNAP</h4>
<p>SNAP stands for Sentinels Application Platform it is a collection of toolboxes specifically for pre-processing and analysing remotely sensed data.</p>
<p>SNAP allows us to easily do undertake many GIS raster type analysis that we’ve seen / discussed in other modules (like CASA0005) and that we will come across within this module including:</p>
<ul>
<li>re sampling raster data</li>
<li>re projecting</li>
<li>masking</li>
<li>classifying data</li>
<li>principal component analysis</li>
<li>orthorectification</li>
<li>many more methods!</li>
</ul>
<p>Aside from these methods in a GUI the real benefit is that it’s made to use remotely sensed data, unlike QGIS or R that are more standard GIS software. Let’s explore some features of SNAP.</p>
<section id="load-data" class="level5" data-number="1.1.1.3.1"><h5 data-number="1.1.1.3.1" class="anchored" data-anchor-id="load-data">
<span class="header-section-number">1.1.1.3.1</span> Load data</h5>
<ul>
<li><p>File &gt; Open Product &gt; select the .zip that was downloaded. Do not rename it or unzip it before hand!</p></li>
<li><p>In the side bar under Product Explorer there will be a lot on data that you can load. The remotely sensed data in under Bands and then each band is listed (e.g.&nbsp;B1 443nm). What does 443nm mean?</p></li>
</ul></section><section id="snap-layout" class="level5" data-number="1.1.1.3.2"><h5 data-number="1.1.1.3.2" class="anchored" data-anchor-id="snap-layout">
<span class="header-section-number">1.1.1.3.2</span> SNAP layout</h5>
<p>The layout of SNAP isn’t too different to QGIS, we have:</p>
<ul>
<li>Products on the left side bar</li>
<li>Map info in the bottom left</li>
<li>Layer / mask managers in the right sidbar</li>
<li>Processing tools in the top tool bars</li>
</ul></section><section id="image-statistics" class="level5" data-number="1.1.1.3.3"><h5 data-number="1.1.1.3.3" class="anchored" data-anchor-id="image-statistics">
<span class="header-section-number">1.1.1.3.3</span> Image statistics</h5>
</section><section id="scatterplots" class="level5" data-number="1.1.1.3.4"><h5 data-number="1.1.1.3.4" class="anchored" data-anchor-id="scatterplots">
<span class="header-section-number">1.1.1.3.4</span> Scatterplots</h5>
<p>Under the analysis button there are a variety of tools we can use to explore some image statistics….for example, here i have created a scatter plot of band 4 (x axis) and band 8 ( y axis). These bands are the red (vegetation absorbs) and Near-infrared (NIR, that vegetation strongly reflects)…so where we have high values of NIR and low values of red the plot represents dense vegetation whilst low values of both red and NIR are usually wet bare soil:</p>
<p>The output should look somewhat like a “Tasseld Cap”, although this isn’t the tasseled cap transformation which we will have a quick look at..</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="prac_1/red_NIR.png" class="img-fluid figure-img" width="250"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="prac_1/red_NIR_lab11.png" class="img-fluid figure-img" width="250"></p>
</figure>
</div>
</div>
</div>
<p>http://geofaculty.uwyo.edu/rhowell/classes/remote_sensing/labs/lab_11_2018_alternate_vegetation.pdf</p>
</section><section id="histograms" class="level5" data-number="1.1.1.3.5"><h5 data-number="1.1.1.3.5" class="anchored" data-anchor-id="histograms">
<span class="header-section-number">1.1.1.3.5</span> Histograms</h5>
</section></section></section><section id="landsat" class="level3" data-number="1.1.2"><h3 data-number="1.1.2" class="anchored" data-anchor-id="landsat">
<span class="header-section-number">1.1.2</span> Landsat</h3>
<p>Either way now we want to merge the 20m imagery</p>
<section id="select-pois" class="level4" data-number="1.1.2.1"><h4 data-number="1.1.2.1" class="anchored" data-anchor-id="select-pois">
<span class="header-section-number">1.1.2.1</span> Select POIs</h4>
<p>https://github.com/robmarkcole/satellite-image-deep-learning#techniques</p>
<p>https://urbanspatial.github.io/classifying_satellite_imagery_in_R/#Supervised_Classification</p>
<p>https://opengislab.com/blog/2018/5/14/flood-mapping-with-sentinel-1-data-using-snap-and-qgis</p>



</section></section></section></main><!-- /main --><script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    setTimeout(function() {
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Welcome</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./summary.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Summary</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->


</body></html>